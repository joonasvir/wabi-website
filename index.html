<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wabi — The first personal software platform</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.20.0/matter.min.js"></script>
  <style>
    @font-face { font-family: 'Selecta'; src: url('/fonts/Selecta-Regular.otf') format('opentype'); font-weight: 400; font-style: normal; font-display: swap; }
    @font-face { font-family: 'Selecta'; src: url('/fonts/Selecta-Medium.otf') format('opentype'); font-weight: 500; font-style: normal; font-display: swap; }
    @font-face { font-family: 'Selecta'; src: url('/fonts/Selecta-Bold.otf') format('opentype'); font-weight: 700; font-style: normal; font-display: swap; }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Selecta', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      color: #191919;
      background: #f0f0f0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ===== NAV ===== */
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 24px 24px;
      position: sticky;
      top: 0;
      background: rgba(240,240,240,0.85);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      z-index: 100;
    }
    @media (min-width: 768px) { nav { padding: 32px 32px; } }

    .nav-logo { display: flex; align-items: center; text-decoration: none; }

    /* Wabi glyph: 5 circles in quincunx */
    .wabi-glyph { position: relative; width: 38px; height: 24px; opacity: 0.3; }
    .wabi-glyph .dot { position: absolute; border-radius: 50%; background: #191919; width: 12px; height: 12px; }
    .wabi-glyph .dot:nth-child(1) { top: 0; left: 1px; }
    .wabi-glyph .dot:nth-child(2) { top: 0; left: 13px; }
    .wabi-glyph .dot:nth-child(3) { top: 0; left: 25px; }
    .wabi-glyph .dot:nth-child(4) { top: 12px; left: 7px; }
    .wabi-glyph .dot:nth-child(5) { top: 12px; left: 19px; }
    @media (min-width: 768px) {
      .wabi-glyph { width: 54px; height: 34px; }
      .wabi-glyph .dot { width: 17px; height: 17px; }
      .wabi-glyph .dot:nth-child(1) { top: 0; left: 1px; }
      .wabi-glyph .dot:nth-child(2) { top: 0; left: 18px; }
      .wabi-glyph .dot:nth-child(3) { top: 0; left: 36px; }
      .wabi-glyph .dot:nth-child(4) { top: 15px; left: 10px; }
      .wabi-glyph .dot:nth-child(5) { top: 15px; left: 27px; }
    }

    .nav-right { display: flex; align-items: center; gap: 16px; }

    .nav-link {
      color: #525252;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      letter-spacing: -0.16px;
      transition: color 0.2s;
    }
    .nav-link:hover { color: #191919; }
    @media (min-width: 768px) { .nav-link { font-size: 16px; } }

    /* ===== GLASSMORPHIC BUTTON ===== */
    @property --angle-1 { syntax: '<angle>'; inherits: false; initial-value: -75deg; }
    @property --angle-2 { syntax: '<angle>'; inherits: false; initial-value: -45deg; }

    .glass-btn-wrap {
      position: relative; z-index: 2; border-radius: 999vw;
      background: transparent; pointer-events: none;
      transition: all 400ms cubic-bezier(0.25, 1, 0.5, 1);
    }
    .glass-btn-shadow {
      position: absolute;
      width: calc(100% + 2em); height: calc(100% + 2em);
      top: calc(0% - 1em); left: calc(0% - 1em);
      filter: blur(clamp(2px, 0.125em, 12px));
      overflow: visible; pointer-events: none;
    }
    .glass-btn-shadow::after {
      content: ''; position: absolute; z-index: 0; inset: 0; border-radius: 999vw;
      background: linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.1));
      width: calc(100% - 2em - 0.25em); height: calc(100% - 2em - 0.25em);
      top: calc(2em - 0.5em); left: calc(2em - 0.875em);
      padding: 0.125em; box-sizing: border-box;
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); mask-composite: exclude;
      transition: all 400ms cubic-bezier(0.25, 1, 0.5, 1); opacity: 1;
    }
    .glass-btn {
      all: unset; cursor: pointer; position: relative;
      -webkit-tap-highlight-color: rgba(0,0,0,0); pointer-events: auto; z-index: 3;
      background: linear-gradient(-75deg, rgba(255,255,255,0.05), rgba(255,255,255,0.2), rgba(255,255,255,0.05));
      border-radius: 999vw;
      box-shadow:
        inset 0 0.125em 0.125em rgba(0,0,0,0.05),
        inset 0 -0.125em 0.125em rgba(255,255,255,0.5),
        0 0.25em 0.125em -0.125em rgba(0,0,0,0.2),
        0 0 0.1em 0.25em inset rgba(255,255,255,0.2),
        0 0 0 0 rgba(255,255,255,1);
      backdrop-filter: blur(clamp(1px, 0.125em, 4px));
      transition: all 400ms cubic-bezier(0.25, 1, 0.5, 1);
      display: flex; align-items: center; justify-content: center;
      height: 46px;
    }
    .glass-btn:hover {
      transform: scale(0.975);
      box-shadow:
        inset 0 0.125em 0.125em rgba(0,0,0,0.05),
        inset 0 -0.125em 0.125em rgba(255,255,255,0.5),
        0 0.15em 0.05em -0.1em rgba(0,0,0,0.25),
        0 0 0.05em 0.1em inset rgba(255,255,255,0.5),
        0 0 0 0 rgba(255,255,255,1);
    }
    .glass-btn span {
      position: relative; width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      user-select: none; color: rgba(50,50,50,1);
      text-shadow: 0em 0.05em 0.05em rgba(0,0,0,0.05);
      transition: all 400ms cubic-bezier(0.25, 1, 0.5, 1);
      padding-inline: 1.75em; font-size: 16px; font-weight: 500;
      letter-spacing: -0.18px; white-space: nowrap;
    }
    /* Shine */
    .glass-btn span::after {
      content: ''; display: block; position: absolute; z-index: 3;
      width: calc(100% - clamp(1px,0.0625em,4px)); height: calc(100% - clamp(1px,0.0625em,4px));
      top: calc(0% + clamp(1px,0.0625em,4px)/2); left: calc(0% + clamp(1px,0.0625em,4px)/2);
      border-radius: 999vw; overflow: clip;
      background: linear-gradient(var(--angle-2), rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 40% 50%, rgba(255,255,255,0) 55%);
      mix-blend-mode: screen; pointer-events: none;
      background-size: 200% 200%; background-position: 0% 50%; background-repeat: no-repeat;
      transition: background-position 500ms cubic-bezier(0.25,1,0.5,1), --angle-2 500ms cubic-bezier(0.25,1,0.5,1);
    }
    .glass-btn:hover span::after { background-position: 25% 50%; }
    /* Outline */
    .glass-btn::after {
      content: ''; position: absolute; z-index: 1; inset: 0; border-radius: 999vw;
      width: calc(100% + clamp(1px,0.0625em,4px)); height: calc(100% + clamp(1px,0.0625em,4px));
      top: calc(0% - clamp(1px,0.0625em,4px)/2); left: calc(0% - clamp(1px,0.0625em,4px)/2);
      padding: clamp(1px,0.0625em,4px); box-sizing: border-box;
      background:
        conic-gradient(from var(--angle-1) at 50% 50%, rgba(0,0,0,0.5), rgba(0,0,0,0) 5% 40%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0) 60% 95%, rgba(0,0,0,0.5)),
        linear-gradient(180deg, rgba(255,255,255,0.5), rgba(255,255,255,0.5));
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); mask-composite: exclude;
      transition: all 400ms cubic-bezier(0.25,1,0.5,1), --angle-1 500ms ease;
      box-shadow: inset 0 0 0 calc(clamp(1px,0.0625em,4px)/2) rgba(255,255,255,0.5);
    }
    .glass-btn:hover::after { --angle-1: -125deg; }
    .glass-btn-wrap:has(button:hover) .glass-btn-shadow { filter: blur(clamp(2px,0.0625em,6px)); }
    .glass-btn-wrap:has(button:active) { transform: rotate3d(1,0,0,25deg); }

    /* Nav header variant */
    .glass-btn-wrap--header { width: 126px; }
    .glass-btn-wrap--header .glass-btn { width: 126px; height: 40px; }
    .glass-btn-wrap--header .glass-btn span { font-size: 14px; font-weight: 400; letter-spacing: -0.16px; mix-blend-mode: luminosity; color: #363636; }
    @media (min-width: 768px) {
      .glass-btn-wrap--header { width: 145px; }
      .glass-btn-wrap--header .glass-btn { width: 145px; height: 46px; }
      .glass-btn-wrap--header .glass-btn span { font-size: 16px; }
    }

    /* Large CTA variant */
    .glass-btn-wrap--cta { width: 280px; }
    .glass-btn-wrap--cta .glass-btn { width: 280px; height: 68px; }
    .glass-btn-wrap--cta .glass-btn span { font-size: 18px; font-weight: 500; }
    @media (min-width: 768px) {
      .glass-btn-wrap--cta { width: 200px; }
      .glass-btn-wrap--cta .glass-btn { width: 200px; }
    }

    /* ===== SECTIONS ===== */
    section { padding: 120px 24px; text-align: center; }

    .section-badge {
      display: inline-flex; align-items: center; padding: 6px 16px; height: 32px;
      border-radius: 999vw; margin-bottom: 20px;
      font-size: 13px; font-weight: 500; color: #525252;
      background: linear-gradient(-75deg, rgba(255,255,255,0.05), rgba(255,255,255,0.2), rgba(255,255,255,0.05));
      backdrop-filter: blur(2px);
      box-shadow:
        inset 0 1px 1px rgba(0,0,0,0.05),
        inset 0 -1px 1px rgba(255,255,255,0.5),
        0 2px 1px -1px rgba(0,0,0,0.15);
      position: relative;
    }
    .section-badge::after {
      content: ''; position: absolute; inset: 0; border-radius: 999vw;
      padding: 1px; box-sizing: border-box;
      background: conic-gradient(from -75deg at 50% 50%, rgba(0,0,0,0.3), rgba(0,0,0,0) 5% 40%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0) 60% 95%, rgba(0,0,0,0.3)),
        linear-gradient(180deg, rgba(255,255,255,0.5), rgba(255,255,255,0.5));
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); mask-composite: exclude;
    }

    .section-heading {
      font-size: 36px; font-weight: 500; line-height: 42px;
      margin-bottom: 16px; letter-spacing: -0.02em;
    }

    .section-sub {
      font-size: 18px; color: #525252; max-width: 480px;
      margin: 0 auto; line-height: 22px; letter-spacing: -0.03em;
    }

    /* ===== HERO ===== */
    .hero { padding: 120px 24px 80px; }

    .hero-heading {
      font-size: 28px; font-weight: 500; line-height: 34px;
      letter-spacing: -0.02em; max-width: 520px; margin: 0 auto 48px;
    }

    .hero-form {
      display: flex; flex-direction: column; align-items: center; gap: 12px;
    }

    .hero-input-wrap {
      width: 280px; height: 68px; position: relative;
      border: 1px solid rgba(255,255,255,0.6); border-radius: 999px;
      background: rgba(255,255,255,0.25);
      box-shadow:
        0px 1px 0px rgba(119,119,119,0.15), inset 0 8px 6px rgba(0,0,0,0.04),
        -1px 1px 0px rgba(0,0,0,0), 0 50px 20px rgba(0,0,0,0.01), 0px 0px 0px rgba(0,0,0,0.04),
        1px 1px 11px rgba(0,0,0,0.07), 0 3px 7px rgba(0,0,0,0.08);
    }

    .hero-input-wrap input {
      width: 100%; height: 100%; border: none; outline: none;
      background: transparent; border-radius: 999px;
      padding: 0 24px; font-family: inherit;
      font-size: 18px; color: #191919; letter-spacing: -0.18px;
    }
    .hero-input-wrap input::placeholder { color: rgba(0,0,0,0.5); }

    @media (min-width: 768px) {
      .hero-heading { font-size: 28px; }
      .hero-form { flex-direction: row; justify-content: center; gap: 12px; }
    }

    /* ===== MEET WABI ===== */
    .meet-wabi { padding: 120px 24px 80px; }

    .meet-heading {
      font-size: 32px; font-weight: 500; line-height: 38px;
      letter-spacing: -0.02em; margin-bottom: 16px;
    }

    .plus-btn {
      display: inline-flex; align-items: center; justify-content: center;
      width: 56px; height: 56px; border: 1px solid #d4d4d4; border-radius: 50%;
      margin-top: 32px; cursor: pointer; background: rgba(255,255,255,0.4);
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    .plus-btn:hover { border-color: #999; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
    .plus-btn svg { width: 22px; height: 22px; color: #525252; }

    /* ===== CREATE CARDS ===== */
    .create-cards {
      position: relative; max-width: 700px; height: 540px;
      margin: 48px auto 0; cursor: grab; user-select: none;
      -webkit-user-select: none;
    }
    .create-cards:active { cursor: grabbing; }
    .create-card {
      position: absolute; border-radius: 28px; overflow: hidden;
      box-shadow: 0 8px 40px rgba(0,0,0,0.12);
      left: 50%; top: 50%;
      transition: transform 0.5s cubic-bezier(0.25,1,0.5,1),
                  opacity 0.5s cubic-bezier(0.25,1,0.5,1),
                  box-shadow 0.5s cubic-bezier(0.25,1,0.5,1);
      width: 364px; height: 494px;
    }
    .create-card video {
      display: block; width: 100%; height: 100%; object-fit: cover;
      pointer-events: none;
    }
    /* States: active (front), prev (left behind), next (right behind) */
    .create-card[data-pos="active"] {
      transform: translate(-50%, -50%) rotate(0deg) scale(1);
      z-index: 3; opacity: 1;
      box-shadow: 0 12px 48px rgba(0,0,0,0.15);
    }
    .create-card[data-pos="prev"] {
      transform: translate(calc(-50% - 50px), -50%) rotate(-5deg) scale(0.9);
      z-index: 1; opacity: 0.85;
    }
    .create-card[data-pos="next"] {
      transform: translate(calc(-50% + 50px), -50%) rotate(5deg) scale(0.9);
      z-index: 2; opacity: 0.85;
    }
    .create-dots {
      display: flex; justify-content: center; gap: 8px;
      margin-top: 20px;
    }
    .create-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: #d4d4d4; border: none; padding: 0; cursor: pointer;
      transition: background 0.3s, transform 0.3s;
    }
    .create-dot.active { background: #191919; transform: scale(1.2); }
    @media (max-width: 640px) {
      .create-cards { height: 400px; }
      .create-card { width: 280px; height: 380px; }
      .create-card[data-pos="prev"] { transform: translate(calc(-50% - 35px), -50%) rotate(-5deg) scale(0.88); }
      .create-card[data-pos="next"] { transform: translate(calc(-50% + 35px), -50%) rotate(5deg) scale(0.88); }
    }

    /* ===== CATEGORY PILLS ===== */
    .category-pills { display: flex; justify-content: center; flex-wrap: wrap; gap: 8px; margin-top: 32px; }
    .pill {
      display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;
      border-radius: 100px; font-size: 14px; font-weight: 500;
      border: 1px solid #d4d4d4; color: #525252; background: rgba(255,255,255,0.4);
      cursor: pointer; transition: all 0.2s;
    }
    .pill:hover { border-color: #aaa; background: rgba(255,255,255,0.7); }
    .pill.active { background: #191919; color: #f0f0f0; border-color: #191919; }
    .pill-icon { width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; }

    /* ===== INTEGRATIONS ===== */
    .integrations-text { font-size: 22px; font-weight: 500; letter-spacing: -0.02em; }

    /* ===== CTA ===== */
    .cta-section { padding: 100px 24px; }
    .cta-heading {
      font-size: 36px; font-weight: 500; line-height: 42px;
      letter-spacing: -0.02em; max-width: 480px; margin: 0 auto 20px;
    }

    /* ===== FOOTER ===== */
    footer {
      display: flex; align-items: center; justify-content: space-between;
      padding: 24px 32px; border-top: 1px solid #ddd; font-size: 12px; color: #737373;
    }
    .footer-logo { display: flex; align-items: center; gap: 8px; text-decoration: none; }
    .footer-wordmark { font-size: 14px; font-weight: 500; color: #191919; opacity: 0.3; letter-spacing: -0.02em; }
    .footer-glyph { position: relative; width: 29px; height: 18px; opacity: 0.3; }
    .footer-glyph .dot { position: absolute; border-radius: 50%; background: #191919; width: 9px; height: 9px; }
    .footer-glyph .dot:nth-child(1) { top: 0; left: 1px; }
    .footer-glyph .dot:nth-child(2) { top: 0; left: 10px; }
    .footer-glyph .dot:nth-child(3) { top: 0; left: 19px; }
    .footer-glyph .dot:nth-child(4) { top: 8px; left: 5px; }
    .footer-glyph .dot:nth-child(5) { top: 8px; left: 15px; }
    .footer-links { display: flex; gap: 24px; }
    .footer-links a { color: #737373; text-decoration: none; font-size: 12px; }
    .footer-links a:hover { color: #191919; }

    /* ===== ORB FOOTER SECTION ===== */
    .orb-footer-section {
      position: relative; width: 100%; min-height: 100vh; overflow: hidden;
    }
    .orb-footer-section canvas {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
    }
    .orb-footer-section .cta-section {
      position: relative; z-index: 2;
    }
    .orb-footer-section footer {
      position: relative; z-index: 2;
    }
    @media (max-width: 640px) {
      .section-heading { font-size: 28px; line-height: 34px; }
      .cta-heading { font-size: 28px; line-height: 34px; }
      .meet-heading { font-size: 26px; line-height: 32px; }
      nav { padding: 16px 20px; }
      footer { flex-direction: column; gap: 16px; }
    }
  </style>
</head>
<body>

  <!-- Nav -->
  <nav>
    <a href="/" class="nav-logo">
      <div class="wabi-glyph">
        <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        <div class="dot"></div><div class="dot"></div>
      </div>
    </a>
    <div class="nav-right">
      <a href="/manifesto" class="nav-link">Read our manifesto</a>
      <div class="glass-btn-wrap glass-btn-wrap--header">
        <button class="glass-btn"><span>Get the app</span></button>
        <div class="glass-btn-shadow"></div>
      </div>
    </div>
  </nav>

  <!-- Meet Wabi (Hero) -->
  <section class="meet-wabi">
    <h2 class="meet-heading">Meet Wabi.<br>The first personal software platform.</h2>
    <p class="section-sub">Create, discover, and remix any mini-app in minutes</p>
    <div class="plus-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
      </svg>
    </div>
  </section>

  <!-- Create -->
  <section>
    <span class="section-badge">Create</span>
    <h2 class="section-heading">Create anything</h2>
    <p class="section-sub">Go from idea to app in a snap. That thing you wished existed? Make it.</p>
    <div class="create-cards" id="createCards">
      <div class="create-card" data-pos="prev">
        <video muted loop playsinline preload="auto"><source src="/videos/create-onboarding-1.mp4" type="video/mp4"></video>
      </div>
      <div class="create-card" data-pos="active">
        <video autoplay muted loop playsinline><source src="/videos/create-onboarding-2.mp4" type="video/mp4"></video>
      </div>
      <div class="create-card" data-pos="next">
        <video muted loop playsinline preload="auto"><source src="/videos/create-onboarding-3.mp4" type="video/mp4"></video>
      </div>
    </div>
    <div class="create-dots" id="createDots">
      <button class="create-dot" data-idx="0"></button>
      <button class="create-dot active" data-idx="1"></button>
      <button class="create-dot" data-idx="2"></button>
    </div>
    <script>
    (function() {
      const container = document.getElementById('createCards');
      const cards = Array.from(container.querySelectorAll('.create-card'));
      const dots = Array.from(document.getElementById('createDots').querySelectorAll('.create-dot'));
      let active = 1;
      const positions = ['prev', 'active', 'next'];

      function update() {
        const prev = (active - 1 + cards.length) % cards.length;
        const next = (active + 1) % cards.length;
        cards.forEach((c, i) => {
          c.setAttribute('data-pos', 'next');
          const vid = c.querySelector('video');
          if (vid) { vid.pause(); vid.currentTime = 0; }
        });
        cards[prev].setAttribute('data-pos', 'prev');
        cards[active].setAttribute('data-pos', 'active');
        cards[next].setAttribute('data-pos', 'next');
        const activeVid = cards[active].querySelector('video');
        if (activeVid) activeVid.play();
        dots.forEach((d, i) => d.classList.toggle('active', i === active));
      }

      function goNext() { active = (active + 1) % cards.length; update(); }
      function goPrev() { active = (active - 1 + cards.length) % cards.length; update(); }
      function goTo(i) { active = i; update(); }

      // Dot clicks
      dots.forEach(d => d.addEventListener('click', () => goTo(parseInt(d.dataset.idx))));

      // Touch swipe
      let startX = 0, startY = 0, dragging = false, moved = false;
      container.addEventListener('touchstart', e => {
        startX = e.touches[0].clientX; startY = e.touches[0].clientY;
        dragging = true; moved = false;
      }, { passive: true });
      container.addEventListener('touchmove', e => {
        if (!dragging) return;
        const dx = e.touches[0].clientX - startX;
        const dy = e.touches[0].clientY - startY;
        if (Math.abs(dx) > 20 && Math.abs(dx) > Math.abs(dy)) moved = true;
      }, { passive: true });
      container.addEventListener('touchend', e => {
        if (!dragging) return;
        dragging = false;
        const dx = e.changedTouches[0].clientX - startX;
        if (Math.abs(dx) > 40 && moved) { dx < 0 ? goNext() : goPrev(); }
      });

      // Mouse drag
      let mStartX = 0, mDragging = false, mMoved = false;
      container.addEventListener('mousedown', e => {
        mStartX = e.clientX; mDragging = true; mMoved = false;
        e.preventDefault();
      });
      window.addEventListener('mousemove', e => {
        if (!mDragging) return;
        if (Math.abs(e.clientX - mStartX) > 15) mMoved = true;
      });
      window.addEventListener('mouseup', e => {
        if (!mDragging) return;
        mDragging = false;
        const dx = e.clientX - mStartX;
        if (Math.abs(dx) > 40 && mMoved) { dx < 0 ? goNext() : goPrev(); }
      });
    })();
    </script>
  </section>

  <!-- Discover -->
  <section>
    <span class="section-badge">Discover</span>
    <h2 class="section-heading">Discover and remix</h2>
    <p class="section-sub">Explore thousands of free apps made by people like you</p>
    <div class="category-pills">
      <span class="pill active"><span class="pill-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/></svg></span>Essentials</span>
      <span class="pill"><span class="pill-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg></span>Lifestyle</span>
      <span class="pill"><span class="pill-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></span>Health</span>
      <span class="pill"><span class="pill-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></span>Fitness</span>
      <span class="pill"><span class="pill-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M12 2a10 10 0 0 1 0 20 10 10 0 0 1 0-20z"/></svg></span>Cooking</span>
      <span class="pill"><span class="pill-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></span>Tracking</span>
    </div>
  </section>

  <!-- Remix -->
  <section>
    <span class="section-badge">Remix</span>
    <h2 class="section-heading">Remix everything</h2>
    <p class="section-sub">Take any app and make it yours</p>
  </section>

  <!-- Multiplayer -->
  <section>
    <span class="section-badge">Multiplayer</span>
    <h2 class="section-heading">Add your friends</h2>
    <p class="section-sub">Apps are better when they're shared. Invite your friends to your app. Wabi is social by design.</p>
  </section>

  <!-- Integrations -->
  <section>
    <p class="integrations-text">20+ integrations, and hundred to come</p>
  </section>

  <!-- Orb Footer Section (CTA + Footer with orb background) -->
  <div class="orb-footer-section" id="orbSection">
    <canvas id="orbCanvas"></canvas>

    <section class="cta-section">
      <h2 class="cta-heading">Welcome to the era<br>of personal software</h2>
      <p class="section-sub" style="margin-bottom: 32px;">Where anyone can create, discover, remix, and share mini-apps — no code required.</p>
      <form class="hero-form" onsubmit="return false;">
        <div class="hero-input-wrap">
          <input type="email" placeholder="name@email.com" />
        </div>
        <div class="glass-btn-wrap glass-btn-wrap--cta">
          <button class="glass-btn" type="submit"><span>Join waitlist</span></button>
          <div class="glass-btn-shadow"></div>
        </div>
      </form>
    </section>

    <footer>
      <a href="/" class="footer-logo">
        <div class="footer-glyph">
          <div class="dot"></div><div class="dot"></div><div class="dot"></div>
          <div class="dot"></div><div class="dot"></div>
        </div>
        <span class="footer-wordmark">wabi</span>
      </a>
      <div class="footer-links">
        <a href="/manifesto">Read our manifesto</a>
        <a href="#">Privacy policy</a>
        <a href="#">Terms of service</a>
        <a href="#">Made by wabi</a>
      </div>
    </footer>
  </div>

  <script>
  (function() {
    const WABI_API_URL = 'https://api.wabi.ai/api/v1/app/random-covers?count=30';
    const FALLBACK_ORBS = [
      'https://i.imgur.com/4Aq1p5V.png','https://i.imgur.com/qx8f4iH.png','https://i.imgur.com/AWPO3TG.png',
      'https://i.imgur.com/p9lsZOd.png','https://i.imgur.com/vwH7fhY.png','https://i.imgur.com/LMjFvVQ.png',
      'https://i.imgur.com/SfPZogI.png','https://i.imgur.com/4MhFEwN.png','https://i.imgur.com/cv5FCFY.png',
      'https://i.imgur.com/D5A4UUJ.png','https://i.imgur.com/PFsPgBN.png','https://i.imgur.com/B70veGi.png',
      'https://i.imgur.com/AehAw57.png','https://i.imgur.com/rwgRwAj.png','https://i.imgur.com/ojY9Fs3.png',
      'https://i.imgur.com/SU1ihwl.png','https://i.imgur.com/ct0AeRD.png','https://i.imgur.com/0uZCyTe.png',
      'https://i.imgur.com/8dKpawM.png','https://i.imgur.com/EBMFd7A.png','https://i.imgur.com/34OFX6f.png',
      'https://i.imgur.com/nh6p2J0.png','https://i.imgur.com/9GEdegS.png','https://i.imgur.com/IUMWj6Y.png',
      'https://i.imgur.com/etdgUOx.png','https://i.imgur.com/6LgF0YR.png','https://i.imgur.com/7MqgR3i.png',
      'https://i.imgur.com/txHoBrO.png','https://i.imgur.com/iV88FY2.png','https://i.imgur.com/FAoVMHq.png',
    ];
    const BASE_RADIUS = 42;
    const MIN_SCALE = 0.9;
    const MAX_SCALE = 1.1;
    const DAMPING = 0.005;
    const DROP_COUNT = 30;
    const MOUSE_FORCE = 0.008;
    const MOUSE_RADIUS = 150;

    const container = document.getElementById('orbSection');
    const canvas = document.getElementById('orbCanvas');
    let engine, walls = [];
    let orbDataMap = new Map();
    let preloadedImages = new Map();
    let coverUrls = [];
    let overlayImage = null;
    let mousePos = { x: -9999, y: -9999 };

    function getRect() { return container.getBoundingClientRect(); }

    async function fetchCovers() {
      try {
        const res = await fetch(WABI_API_URL);
        if (!res.ok) throw new Error();
        const json = await res.json();
        const urls = json.data?.covers || [];
        if (urls.length > 0) return urls;
      } catch(e) {}
      return [];
    }

    async function preloadImages() {
      const urls = await fetchCovers();
      coverUrls = urls;
      const all = [...urls, ...FALLBACK_ORBS];
      await Promise.all(all.map(url => new Promise(resolve => {
        if (preloadedImages.has(url)) return resolve();
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.onload = () => { preloadedImages.set(url, img); resolve(); };
        img.onerror = () => resolve();
        img.src = url;
      })));
    }

    function getRandomCover() {
      const urls = coverUrls.length > 0 ? coverUrls : FALLBACK_ORBS;
      return urls[Math.floor(Math.random() * urls.length)];
    }

    function addOrb() {
      const rect = getRect();
      const scale = MIN_SCALE + Math.random() * (MAX_SCALE - MIN_SCALE);
      const radius = BASE_RADIUS * scale;
      const posX = Math.random() * (rect.width - radius * 2) + radius;
      const posY = -radius * 2 - Math.random() * 400;
      const imageUrl = getRandomCover();
      const orb = Matter.Bodies.circle(posX, posY, radius, {
        restitution: 0.6, friction: 0.05, frictionAir: DAMPING,
        density: 0.001, label: 'orb', slop: 0.01,
      });
      const data = { imageUrl, image: preloadedImages.get(imageUrl) || null };
      if (!data.image) {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.onload = () => { data.image = img; preloadedImages.set(imageUrl, img); };
        img.src = imageUrl;
      }
      orbDataMap.set(orb.id, data);
      Matter.Composite.add(engine.world, orb);
    }

    async function init() {
      await preloadImages();
      await new Promise(resolve => {
        const img = new Image();
        img.onload = () => { overlayImage = img; resolve(); };
        img.onerror = () => resolve();
        img.src = '/orb-overlay.png';
      });

      const rect = getRect();
      const dpr = window.devicePixelRatio || 1;
      canvas.width = rect.width * dpr;
      canvas.height = rect.height * dpr;
      const ctx = canvas.getContext('2d');
      ctx.scale(dpr, dpr);

      engine = Matter.Engine.create({ gravity: { x: 0, y: 1 }, enableSleeping: false });
      engine.positionIterations = 6;
      engine.velocityIterations = 4;

      const wallT = 50;
      const w = rect.width; const h = rect.height;
      walls = [
        Matter.Bodies.rectangle(w / 2, h + wallT / 2, w * 2, wallT, { isStatic: true, label: 'wall' }),
        Matter.Bodies.rectangle(-wallT / 2, h / 2, wallT, h * 2, { isStatic: true, label: 'wall' }),
        Matter.Bodies.rectangle(w + wallT / 2, h / 2, wallT, h * 2, { isStatic: true, label: 'wall' }),
      ];
      Matter.Composite.add(engine.world, walls);

      // Drop 30 orbs with staggered timing
      for (let i = 0; i < DROP_COUNT; i++) {
        setTimeout(() => addOrb(), i * 60);
      }

      // Track mouse position relative to container
      container.addEventListener('mousemove', e => {
        const r = getRect();
        mousePos.x = e.clientX - r.left;
        mousePos.y = e.clientY - r.top;
      });
      container.addEventListener('mouseleave', () => {
        mousePos.x = -9999; mousePos.y = -9999;
      });

      function render() {
        const rect = getRect();
        const w = rect.width; const h = rect.height;
        ctx.clearRect(0, 0, w, h);

        const orbs = Matter.Composite.allBodies(engine.world).filter(b => b.label === 'orb');

        // Apply mouse repulsion force
        if (mousePos.x > 0 && mousePos.y > 0) {
          orbs.forEach(body => {
            const dx = body.position.x - mousePos.x;
            const dy = body.position.y - mousePos.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < MOUSE_RADIUS && dist > 1) {
              const force = MOUSE_FORCE * (1 - dist / MOUSE_RADIUS);
              Matter.Body.applyForce(body, body.position, {
                x: (dx / dist) * force,
                y: (dy / dist) * force,
              });
            }
          });
        }

        orbs.forEach(body => {
          const data = orbDataMap.get(body.id);
          const radius = body.circleRadius || BASE_RADIUS;
          ctx.save();
          ctx.translate(body.position.x, body.position.y);
          ctx.rotate(body.angle);
          ctx.beginPath(); ctx.arc(0, 0, radius, 0, Math.PI * 2); ctx.closePath(); ctx.clip();
          if (data?.image) { ctx.drawImage(data.image, -radius, -radius, radius * 2, radius * 2); }
          else { ctx.fillStyle = '#ddd'; ctx.fill(); }
          ctx.restore();
          if (overlayImage) {
            ctx.save();
            ctx.translate(body.position.x, body.position.y);
            ctx.rotate(body.angle);
            ctx.drawImage(overlayImage, -radius, -radius, radius * 2, radius * 2);
            ctx.restore();
          }
        });

        Matter.Engine.update(engine, 1000 / 60);
        requestAnimationFrame(render);
      }
      render();

      function handleResize() {
        const rect = getRect(); const dpr = window.devicePixelRatio || 1;
        canvas.width = rect.width * dpr; canvas.height = rect.height * dpr;
        ctx.resetTransform(); ctx.scale(dpr, dpr);
        const wallT = 50;
        Matter.Body.setPosition(walls[0], { x: rect.width / 2, y: rect.height + wallT / 2 });
        Matter.Body.setPosition(walls[1], { x: -wallT / 2, y: rect.height / 2 });
        Matter.Body.setPosition(walls[2], { x: rect.width + wallT / 2, y: rect.height / 2 });
      }
      window.addEventListener('resize', handleResize);
    }

    const observer = new IntersectionObserver((entries) => {
      if (entries[0].isIntersecting) { observer.disconnect(); init(); }
    }, { threshold: 0.1 });
    observer.observe(container);
  })();
  </script>
</body>
</html>
